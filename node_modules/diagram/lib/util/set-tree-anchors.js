const ANCHORS_BY_DIRECTION = require('../constant/tree-anchors-by-direction')

function setAnchors (node, d1, d2) {
  node.inAnchor = ANCHORS_BY_DIRECTION[d1]
  node.outAnchor = ANCHORS_BY_DIRECTION[d2]
}

module.exports = (root, d1, d2, single) => {
  if (single) {
    setAnchors(root, d1, d2)
  } else {
    root.eachNode(node => {
      setAnchors(node, d1, d2)
    })
  }
}
